---
title: Listening to MQTT
description: You can reach the listener using an instance of a Client.TopicSubscriber object that is returned from the Client.subscriber() function.
image: /img/logo/iota_mark_light.png
keywords:
- how to
- message
- message queuing telemetry
- queues
- asynchronous events listener
- list topics
- nodejs
---
import CodeBlock from '@theme/CodeBlock';
import mqtt from '!!raw-loader!../../../../../bindings/nodejs/examples/10_mqtt.js';

IOTA node(s) provide a [Message Queuing Telemetry Transport](https://en.wikipedia.org/wiki/MQTT) (MQTT) layer, if
enabled, which is a lightweight publish-subscribe network protocol that provides information about events that are
being triggered by the IOTA network.

The `iota.rs` client library supports asynchronous event listeners that can be listened to, and continuously receive
MQTT events based on a `topic`, which can be:

* milestones/latest
* milestones/confirmed
* messages
* messages/referenced
* messages/indexation/{index}
* messages/{messageId}/metadata
* transactions/{transactionId}/included-message
* outputs/{outputId}
* addresses/{address}/outputs
* addresses/ed25519/{address}/outputs

You can reach the listener using an instance of a `Client.TopicSubscriber` object that is
returned from the `Client.subscriber()` function. It offers several chaining calls:

* `.topic(str)` / `.topics(str[])`: A topic or list of topics that should trigger a provided callback.
* `.subscribe(cb)`: Subscribes the listener to a callback function that is being triggered every time the given topic(s)
is noticed.
* `.unsubscribe(cb)`: Unsubscribes the listener from the given topics. Once unsubscribed, the given callback function is
executed in the form `(err, message) => {}`.

<CodeBlock className="language-javascript">
  {mqtt}
</CodeBlock>

:::info Enable MQTT

The IOTA node needs to have the MQTT layer enabled. There is a set of test nodes available that have MQTT enabled.
You can find more information in the [devnet section](https://wiki.iota.org/chrysalis-docs/devnet/) of the Chrysalis
documentation.

:::
